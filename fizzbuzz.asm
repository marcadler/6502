********************************
* FIZZBUZZ

	ORG	$6000

HOME	EQU	$FC58
COUT	EQU	$FDED
PRBYTE	EQU	$FDDA
SAN	EQU	$60
GO	EQU	$61
FLAG	EQU	$62

* SETUP

	LDA	#$01
	STA	SAN
	STA	GO

	LDA	#$00
	STA	FLAG

	JSR	HOME

* MAIN LOOP

	LDY	#$00
MLOOP	INY

* MULTIPLE OF THREE?

	LDA	SAN
	CMP	#$03
	BEQ	DOSAN
	JMP	CONT1
DOSAN	JSR	PRSAN

* MULTIPLE OF FIVE?

CONT1	LDA	GO
	CMP	#$05
	BEQ	DOGO
	JMP	CONT2
DOGO	JSR	PRGO

CONT2	NOP

* DON'T PRINT NUM IF SAN OR GO DONE

	LDA	FLAG
	CMP	#$01
	BEQ	CONT3

* IF NOT, PRINT IT

	TYA
	JSR	PRBYTE

CONT3	NOP

	LDA	#$A0
	JSR	COUT

* RESET FLAG

	LDA	#$00
	STA	FLAG

	INC	SAN
	INC	GO

	CPY	#$FF
	BNE	MLOOP

	RTS

PRSAN	LDX	#$00
SLOOP	LDA	SAND,X
	JSR	COUT
	CMP	#$00
	BEQ	SDONE
	INX
	JMP	SLOOP
SDONE	LDA	#$00
	STA	SAN
	LDA	#$01
	STA	FLAG
	RTS

PRGO	LDX	#$00
GLOOP	LDA	GOD,X
	JSR	COUT
	CMP	#$00
	BEQ	GDONE
	INX
	JMP	GLOOP
GDONE	LDA	#$00
	STA	GO
	LDA	#$01
	STA	FLAG
	RTS

SAND	ASC	"FIZZ"00

GOD	ASC	"BUZZ"00

	RTS
